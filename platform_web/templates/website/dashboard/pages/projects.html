{% extends 'website/dashboard/parts/layout.html' %}
{% load static %}

{% block title %}
  Level {{ lesson_id }} | {{ website_config.site_name }}
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/dashboard/dashboard.css' %}" />
  <link rel="stylesheet" href="{% static 'css/dashboard/projects.css' %}" />
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/dashboard/dashboard.js' %}" defer type="module"></script>
  <script src="{% static 'js/dashboard/parts/codepen.js' %}" defer type="module"></script>
{% endblock %}

{% block dashboard_content %}
<section class="row align-items-end mb-2">
  <div class="col dashboard-title head-title">
    <div class="left">
      <h1>Projects</h1>
      <ul class="breadcrumb">
        <li>
          <a href="#">Dashboard</a>
        </li>
        <li>
          <i class="fs-6 bi bi-caret-right-fill"></i>
        </li>
        <li>
          <a class="active" href="#">Projects</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="col row justify-content-end align-items-end">

    <form method="get" class="projects-toggle-section col col-6 d-flex justify-content-end column-gap-3 mb-3" >
      <div class="d-flex flex-column align-items-end">
        <select id="projects-toggle-select" name="filter" class="form-select" style="width: auto;" onchange="this.form.submit()">
          <option value="course" {% if filter_by == 'course' %} selected {% endif %}> By Course </option>
          <option value="language" {% if filter_by == 'language' %} selected {% endif %}> By Language </option>
        </select>
        </div>
      <div class="d-flex flex-column align-items-end">
        <select id="projects-type-select" name="type" class="form-select" style="width: auto;" onchange="this.form.submit()">
          <option value="all" {% if project_type == 'all' or not project_type %}selected{% endif %}>All</option>
          <option value="topic" {% if project_type == 'topic' %}selected{% endif %}>Topic</option>
          <option value="project" {% if project_type == 'project' %}selected{% endif %}>Project</option>
        </select>
      </div>
    </form>
  </div>
</section>


  <section class="projects">

      {% if filter_by == 'course' %}
      {% include 'website/dashboard/parts/projects_by_course.html' %}
      {% else %}
      {% include 'website/dashboard/parts/projects_by_language.html' %}
      {% endif %}
  </section>

  {% comment %} </section> {% endcomment %}
{% endblock %}
