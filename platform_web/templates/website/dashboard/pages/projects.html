{% extends 'website/dashboard/parts/layout.html' %}
{% load static %}

{% block title %}
  Level {{ lesson_id }} | {{ website_config.site_name }}
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/dashboard/dashboard.css' %}" />
  <link rel="stylesheet" href="{% static 'css/dashboard/projects.css' %}" />
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/dashboard/dashboard.js' %}" defer type="module"></script>
  <script src="{% static 'js/dashboard/parts/codepen.js' %}" defer type="module"></script>
{% endblock %}

{% block dashboard_content %}
  <!-- Plus button moved to bottom right -->
  {% if user.is_staff %}
    <div class="plus-button add-project" style="position: fixed; right: 36px; bottom: 36px; z-index: 1050; border-radius: 50%;">
      <a href="/cp/platform_web/project/add/" target="_blank" class="btn d-flex align-items-center justify-content-center" style="border-radius: 50%; width: 60px; height: 60px; font-size: 2rem; background: #007bff; color: #fff; box-shadow: 0 4px 16px rgba(0,0,0,0.12);" title="Add New Project"><i class="bi bi-plus"></i></a>
    </div>
  {% endif %}

  <section class="row align-items-end mb-2">
    <div class="col dashboard-title head-title d-flex align-items-center justify-content-between">
      <div class="left">
        <h1>Projects</h1>
        <ul class="breadcrumb">
          <li>
            <a href="#">Dashboard</a>
          </li>
          <li>
            <i class="fs-6 bi bi-caret-right-fill"></i>
          </li>
          <li>
            {% if user.is_staff %}
              <a class="active" target="_blank" href="/cp/platform_web/project/">Projects</a>
            {% else %}
              <a class="active" href="#">Projects</a>
            {% endif %}
          </li>
        </ul>
      </div>
    </div>

    {% include 'website/dashboard/parts/project_filters.html' %}
  </section>

  <section class="projects">
    {% comment %}! add an edit pen / delete icon for each project{% endcomment %}
    {% if filter_by == 'course' %}
      {% include 'website/dashboard/parts/projects_by_course.html' %}
    {% else %}
      {% include 'website/dashboard/parts/projects_by_language.html' %}
    {% endif %}
  </section>
{% endblock %}
