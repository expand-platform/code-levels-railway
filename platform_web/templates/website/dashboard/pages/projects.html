{% extends 'website/dashboard/parts/layout.html' %}
{% load static %}

{% block title %}
  Level {{ lesson_id }} | {{ website_config.site_name }}
{% endblock %}

{% block extra_css %}
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'css/dashboard/dashboard.css' %}" />
  <link rel="stylesheet" href="{% static 'css/dashboard/projects.css' %}" />
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/dashboard/dashboard.js' %}" defer type="module"></script>
  <script src="{% static 'js/dashboard/parts/codepen.js' %}" defer type="module"></script>
{% endblock %}

{% block dashboard_content %}
  <section class="projects">
    <form method="get" class="projects-toggle-section" style="margin-bottom: 2rem; display: flex; align-items: center; gap: 1rem;">
      <label for="projects-toggle-select" style="font-weight: 500;">View projects:</label>
      <select id="projects-toggle-select" name="filter" class="form-select" style="width: auto;" onchange="this.form.submit()">
        <option value="language" {% if filter_by == 'language' %}selected{% endif %}>By Language</option>
        <option value="course" {% if filter_by == 'course' %}selected{% endif %}>By Course</option>
      </select>
      <label for="projects-type-select" style="font-weight: 500;">Type:</label>
      <select id="projects-type-select" name="type" class="form-select" style="width: auto;" onchange="this.form.submit()">
        <option value="all" {% if project_type == 'all' or not project_type %}selected{% endif %}>All</option>
        <option value="topic" {% if project_type == 'topic' %}selected{% endif %}>Topic</option>
        <option value="project" {% if project_type == 'project' %}selected{% endif %}>Project</option>
      </select>
    </form>
    {% if filter_by == 'course' %}
      {% include 'website/dashboard/parts/projects_by_course.html' %}
    {% else %}
      {% include 'website/dashboard/parts/projects_by_language.html' %}
    {% endif %}
  </section>
{% endblock %}
